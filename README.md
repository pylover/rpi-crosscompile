# RPI cross compilation on ubuntu 20.04

## Prepare RPI

Download and install the latest RasoberryPi OS (raspbian) from 
(here)[https://www.raspberrypi.com/software/operating-systems].

Mount the mmc boot volume and add `enable_uart` into /boot/config.txt
(optional).

Boot rpi and use `raspi-config` to:

- configure Wifi connection
- enable `ssh`.
- extend filesystem
- disable wifi power saving

Fix the locale file: /etc/default/locale

```bash
# File generated by update-locale
LANG=en_US.UTF-8
LC_CTYPE=en_US.UTF-8
LC_MESSAGES=en_US.UTF-8
LC_ALL=en_US.UTF-8
```

Install some packages:

```bash
apt install vim git python3-pip python3-dev \
  build-essential tk-dev libncurses5-dev libncursesw5-dev libreadline6-dev \
  libdb5.3-dev libgdbm-dev libsqlite3-dev libssl-dev libbz2-dev \
  libexpat1-dev liblzma-dev zlib1g-dev libffi-dev \
  binutils-source symlinks
```

Make all symlinks relative
```bash
sudo symlinks -rc /.
```

Save this information for the later:

```bash
uname -a            # Linux pinky 5.10.83+ #1499 Tue Dec 7 14:04:21 GMT 2021 armv6l GNU/Linux
ld --version        # 2.31.1
gcc --version       # 8.3.0
ldd --version		    # 2.28
```

## Prepare the ubuntu machine

edit the install.sh ...

Then run it
```bash
./install.sh
```




